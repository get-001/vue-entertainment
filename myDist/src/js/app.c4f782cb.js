(function(t){function n(n){for(var i,r,o=n[0],c=n[1],l=n[2],d=0,p=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&p.push(a[r][0]),a[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(n);while(p.length)p.shift()();return s.push.apply(s,l||[]),e()}function e(){for(var t,n=0;n<s.length;n++){for(var e=s[n],i=!0,o=1;o<e.length;o++){var c=e[o];0!==a[c]&&(i=!1)}i&&(s.splice(n--,1),t=r(r.s=e[0]))}return t}var i={},a={app:0},s=[];function r(n){if(i[n])return i[n].exports;var e=i[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=t,r.c=i,r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)r.d(e,i,function(n){return t[n]}.bind(null,i));return e},r.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=n,o=o.slice();for(var l=0;l<o.length;l++)n(o[l]);var u=c;s.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"2a20":function(t,n,e){},"35d9":function(t,n,e){"use strict";var i=e("71fd"),a=e.n(i);a.a},"56d7":function(t,n,e){"use strict";e.r(n);e("cadf"),e("551c"),e("f751"),e("097d");var i=e("2b0e"),a=e("bc3a"),s=e.n(a),r={},o=s.a.create(r);o.interceptors.request.use(function(t){return t},function(t){return Promise.reject(t)}),o.interceptors.response.use(function(t){return t},function(t){return Promise.reject(t)}),Plugin.install=function(t,n){t.axios=o,window.axios=o,Object.defineProperties(t.prototype,{axios:{get:function(){return o}},$axios:{get:function(){return o}}})},i["a"].use(Plugin);Plugin;var c=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"container",staticStyle:{padding:"0"},attrs:{id:"app"}},[e("div",{staticClass:"head"},[e("span",{staticClass:"title"},[t._v("谁是卧底")]),e("mu-button",{attrs:{fab:"",color:"primary"},on:{click:t.startGame}},[e("mu-icon",{attrs:{value:"send"}})],1)],1),e("div",{staticClass:"body"},[e("mu-container",[e("mu-expansion-panel",{attrs:{expand:"panel1"===t.panel},on:{change:function(n){return t.toggle("panel1")}}},[e("div",{attrs:{slot:"header"},slot:"header"},[t._v("玩家人数："+t._s(t.config.players))]),e("mu-slider",{attrs:{min:4,step:1,max:20},on:{change:function(n){return t.sliderChange("players")}},model:{value:t.config.players,callback:function(n){t.$set(t.config,"players",n)},expression:"config.players"}})],1),e("mu-expansion-panel",{attrs:{expand:"panel2"===t.panel},on:{change:function(n){return t.toggle("panel2")}}},[e("div",{attrs:{slot:"header"},slot:"header"},[t._v("卧底数量："+t._s(t.config.dinting))]),e("mu-slider",{attrs:{min:1,step:1,max:t.config.dintingMax},model:{value:t.config.dinting,callback:function(n){t.$set(t.config,"dinting",n)},expression:"config.dinting"}})],1),e("mu-expansion-panel",{attrs:{expand:"panel3"===t.panel},on:{change:function(n){return t.toggle("panel3")}}},[e("div",{attrs:{slot:"header"},slot:"header"},[t._v("白板数量："+t._s(t.config.blank))]),e("mu-slider",{attrs:{min:0,step:1,max:t.config.blankMax,disabled:0==t.config.blankMax},model:{value:t.config.blank,callback:function(n){t.$set(t.config,"blank",n)},expression:"config.blank"}})],1)],1),e("mu-container",{staticClass:"more-wrap"},[e("div",{staticStyle:{"margin-bottom":"10px","text-align":"right"}},[e("mu-button",{on:{click:function(n){t.showMore=!t.showMore}}},[t._v("更多")])],1),e("mu-flex",{staticClass:"mu-transition-row"},[e("mu-col",{attrs:{span:"6"}},[e("mu-slide-top-transition",[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showMore,expression:"showMore"}],staticClass:"mu-transition-box mu-inverse"},[e("mu-button",{on:{click:function(n){t.openAlert=!0}}},[e("span",{staticClass:"glyphicon glyphicon-wrench",attrs:{"aria-hidden":"true"}}),t._v("\n                自定义词语\n              ")])],1)])],1),e("mu-col",{attrs:{span:"6"}},[e("mu-slide-bottom-transition",[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showMore,expression:"showMore"}],staticClass:"mu-transition-box mu-inverse"},[e("mu-button",[e("mu-checkbox",{attrs:{value:"eat",label:"使用自定义"},model:{value:t.customWords.isUse,callback:function(n){t.$set(t.customWords,"isUse",n)},expression:"customWords.isUse"}})],1)],1)])],1)],1),e("mu-flex",{staticClass:"mu-transition-row"},[e("mu-col",{attrs:{span:"6"}},[e("mu-slide-left-transition",[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showMore,expression:"showMore"}],staticClass:"mu-transition-box mu-inverse"},[e("mu-button",[e("span",{staticClass:"glyphicon glyphicon-cog",attrs:{"aria-hidden":"true"}}),t._v("\n                设置\n              ")])],1)])],1),e("mu-col",{attrs:{span:"6"}},[e("mu-slide-right-transition",[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showMore,expression:"showMore"}],staticClass:"mu-transition-box mu-inverse"},[e("mu-button",[e("span",{staticClass:"glyphicon glyphicon-indent-left",attrs:{"aria-hidden":"true"}}),t._v("\n                关于\n              ")])],1)])],1)],1)],1),e("mu-dialog",{attrs:{title:"自定义词语",width:"600","max-width":"80%","esc-press-close":!1,"overlay-close":!1,open:t.openAlert},on:{"update:open":function(n){t.openAlert=n}}},[e("mu-text-field",{staticStyle:{margin:"0"},attrs:{label:"卧底词语：","label-float":""},model:{value:t.customWords.dinting,callback:function(n){t.$set(t.customWords,"dinting",n)},expression:"customWords.dinting"}}),e("mu-text-field",{staticStyle:{margin:"0"},attrs:{label:"平民词语：","label-float":""},model:{value:t.customWords.civilian,callback:function(n){t.$set(t.customWords,"civilian",n)},expression:"customWords.civilian"}}),e("mu-button",{attrs:{slot:"actions",flat:"",color:"primary"},on:{click:function(n){t.openAlert=!1}},slot:"actions"},[t._v("ok")])],1)],1),e("mu-slide-right-transition",[t.getInto?e("CheckYourIdentity",{attrs:{gameArr:t.gameArr},on:{closePage:function(n){t.getInto=!1},open:function(n){t.showGameInterface=!0}}}):t._e()],1),e("mu-slide-right-transition",[t.showGameInterface?e("StartGame",{attrs:{gameArr:t.gameArr},on:{closePage:function(n){t.showGameInterface=!1},startAgain:t.startAgain}}):t._e()],1)],1)},l=[],u=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"Begin",staticStyle:{padding:"0"}},[e("mu-appbar",{staticStyle:{width:"100%"},attrs:{color:"primary"}},[e("mu-button",{attrs:{slot:"left",icon:""},on:{click:t.closePage},slot:"left"},[e("span",{staticClass:"glyphicon glyphicon-remove",attrs:{"aria-hidden":"true"}})]),t._v("查看词条\n  ")],1),e("div",{staticClass:"content"},[e("mu-text-field",{staticClass:"player-name",attrs:{placeholder:"Please input..."},model:{value:t.gameArr[t.currentIndex].name,callback:function(n){t.$set(t.gameArr[t.currentIndex],"name",n)},expression:"gameArr[currentIndex].name"}}),t.isExamine?e("mu-ripple",{staticClass:"mu-ripple-card active",on:{click:function(n){return t.examine(t.currentIndex,!1)}}},[e("span",[t._v(t._s(t.gameArr[t.currentIndex]["entry"]))]),e("span",{staticClass:"top-right"},[t._v(t._s("#"+("000"+(t.currentIndex+1)).slice(-2)))])]):e("mu-ripple",{staticClass:"mu-ripple-card",class:{beViewed:t.gameArr[t.currentIndex].beViewed},on:{click:function(n){return t.examine(t.currentIndex,!0)}}},[e("p",[t._v("点击查看")]),e("span",{staticClass:"top-right"},[t._v(t._s("#"+("000"+(t.currentIndex+1)).slice(-2)))])]),t.isExamine?t._e():e("div",{staticClass:"btn-wrap"},[0!=t.currentIndex?e("mu-button",{staticClass:"btn-bottom-left",attrs:{color:"grey500"},on:{click:function(n){t.currentIndex--}}},[t._v("上一个")]):t._e(),t.currentIndex!=t.gameArr.length-1?e("mu-button",{staticClass:"btn-bottom-right",attrs:{color:"primary"},on:{click:function(n){t.currentIndex++}}},[t._v("下一个")]):t._e(),t.currentIndex===t.gameArr.length-1?e("mu-button",{staticClass:"btn-bottom-right",attrs:{color:"green500"},on:{click:t.open}},[t._v("开始")]):t._e()],1)],1)],1)},d=[],p=e("5118"),m={props:["gameArr"],data:function(){return{playerName:"xxx",currentIndex:0,isExamine:!1,timer:null}},filters:{analysisIdentity:function(t){return t="blank"===t?"白板":"dinting"===t?"卧底":"平民",t}},methods:{closePage:function(){this.$emit("closePage")},open:function(){this.$emit("open")},examine:function(t,n){var e=this;Object(p["clearTimeout"])(this.timer),this.isExamine=n,n&&(this.gameArr[t].beViewed=!0,this.timer=Object(p["setTimeout"])(function(){e.isExamine=!1},2e3))}}},f=m,h=(e("d196"),e("2877")),g=Object(h["a"])(f,u,d,!1,null,null,null),v=g.exports,b=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"startGame",staticStyle:{padding:"0"}},[e("mu-appbar",{staticStyle:{width:"100%"},attrs:{color:"green500"}},[e("mu-button",{attrs:{slot:"left",icon:""},on:{click:t.closePage},slot:"left"},[e("span",{staticClass:"glyphicon glyphicon-chevron-left",attrs:{"aria-hidden":"true"}})]),t._v("游戏进行中...\n  ")],1),e("div",{staticClass:"content"},[t._l(t.gameArr,function(n,i){return e("div",{key:i,staticClass:"card-item",class:{active:n.open},on:{click:function(n){!t.finish&&t.open(i)}}},[e("mu-ripple",{staticClass:"mu-ripple",attrs:{opacity:.7}},[e("span",{staticClass:"name top-left"},[t._v(t._s(n.name))]),e("div",{staticClass:"pivotal",class:{finish:t.finish}},[e("span",{staticClass:"entry bottom-left",class:{finish:t.finish}},[t._v(t._s(n.entry))]),e("span",{staticClass:"identity bottom-right",class:n.identity},[t._v(t._s(t._f("analysisIdentity")(n.identity)))])])])],1)}),e("mu-dialog",{staticStyle:{"text-align":"center"},attrs:{title:"游戏结束",width:"360",open:t.openSimple},on:{"update:open":function(n){t.openSimple=n}}},[e("h3",[t._v(t._s(t.triumphType)+"获胜")]),e("mu-button",{attrs:{slot:"actions",flat:"",color:"primary"},on:{click:t.startAgain},slot:"actions"},[t._v("重新开始")]),e("mu-button",{attrs:{slot:"actions",flat:"",color:"primary"},on:{click:function(n){t.openSimple=!1}},slot:"actions"},[t._v("关闭")])],1)],2)],1)},y=[],x=(e("ac6a"),{props:["gameArr"],data:function(){return{openSimple:!1,triumphType:"",finish:!1}},filters:{analysisIdentity:function(t){return t="blank"===t?"白板":"dinting"===t?"卧底":"平民",t}},methods:{closePage:function(){this.$emit("closePage")},open:function(t){this.gameArr[t].open=!0;var n={civilian:0,dinting:0,blank:0};this.gameArr.forEach(function(t){t.open||("blank"===t.identity?n["blank"]++:"dinting"===t.identity?n["dinting"]++:n["civilian"]++)}),0===n.dinting&&0===n.blank?this.accomplish("平民"):0===n.civilian&&0===n.blank?this.accomplish("卧底"):0===n.civilian&&0===n.dinting&&this.accomplish("白板")},accomplish:function(t){this.finish=!0,this.triumphType=t,this.openSimple=!0},startAgain:function(){this.openSimple=!1,this.$emit("startAgain")}}}),w=x,k=(e("35d9"),Object(h["a"])(w,b,y,!1,null,null,null)),_=k.exports,C={components:{CheckYourIdentity:v,StartGame:_},data:function(){return{panel:"",config:{players:5,dinting:1,dintingMax:2,blank:0,blankMax:1},customWords:{isUse:!1,dinting:"番茄",civilian:"西红柿"},showMore:!1,openAlert:!1,getInto:!1,gameArr:[],showGameInterface:!1,entry:[]}},mounted:function(){var t=this;axios.get("http://api.a-1.vip",{params:{url:"http://a-1.vip/demo/dinting/data/data.json"}}).then(function(n){var e=n.data;t.entry=e})},methods:{startAgain:function(){this.getInto=!1,this.showGameInterface=!1},toggle:function(t){this.panel=t===this.panel?"":t},sliderChange:function(t){if("players"===t){var n=Math.floor(this.config[t]/3);this.config.dintingMax=n,this.config.dinting>this.config.dintingMax&&(this.config.dinting=n),n=Math.floor(this.config[t]/5),this.config.blankMax=n,this.config.blank>this.config.blankMax&&(this.config.blank=n)}},randomNum:function(t,n){switch(arguments.length){case 1:return parseInt(Math.random()*t+1,10);case 2:return parseInt(Math.random()*(n-t+1)+t,10);default:return 0}},startGame:function(){var t=[],n={civilian:"[无可用词条]",blank:"",dinting:"[无可用词条]"},e=0,i=this.config.players;if(this.customWords.isUse)n.civilian=this.customWords.civilian,n.dinting=this.customWords.dinting;else{if(0==this.entry.length)return void alert("没有可用的词条！");var a=this.randomNum(0,this.entry.length-1);n.civilian=this.entry[a].civilian,n.dinting=this.entry[a].dinting}for(var s=0;s<i;s++)t.push({name:"No."+(s+1),identity:"civilian",entry:n.civilian,beViewed:!1,open:!1});e=1;while(e<=this.config.blank){var r=this.randomNum(1,i-1);"blank"!=t[r].identity&&(t[r].identity="blank",t[r]["entry"]=n["blank"],e++)}e=1;while(e<=this.config.dinting){var o=this.randomNum(0,i-1);"dinting"!=t[o].identity&&"blank"!=t[o].identity&&(t[o].identity="dinting",t[o]["entry"]=n["dinting"],e++)}this.gameArr=t,this.getInto=!0}}},I=C,A=(e("7c55"),Object(h["a"])(I,c,l,!1,null,null,null)),M=A.exports,P=(e("ebef"),e("30f4")),S=(e("d6f6"),e("d4b8"),e("d09c")),j=e.n(S);i["a"].use(P["a"]),i["a"].use(j.a);e("f9e3"),e("d1e7");i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(M)}}).$mount("#app")},"5c48":function(t,n,e){},"71fd":function(t,n,e){},"7c55":function(t,n,e){"use strict";var i=e("5c48"),a=e.n(i);a.a},d196:function(t,n,e){"use strict";var i=e("2a20"),a=e.n(i);a.a},ebef:function(t,n,e){}});